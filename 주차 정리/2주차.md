# 2주차

## 플레이어가 R(keyCodeReload)키를 누르면 shoot.StartReload함수를 실행하여 공격을 하지 못하게 StopWeaponAction 함수를 실행하고 OnReload코루틴 함수를 실행시킨다.
```cs
// 재장전 키 
if (Input.GetKeyDown(keyCodeReload))
        {
            shoot.StartReload();
        }

// 재장전 시작
public void StartReload()
{
    // 현재 재장전 중이면 재장전 불가능하게 함
    if (isReload == true || weaponSetting.currentAmmo == weaponSetting.maxAmmo) return;

    // 무기 액션 도중에 'R'키를 눌러 재장전을 시도하면 무기 액션 종료 후 재장전
    StopWeaponAction();

    StartCoroutine("OnReload");
}

private IEnumerator OnReload()
    {
        // 재장전 애니메이션 재생
        playerAnimator.OnReload();
        while (true)
        {
            if (playerAnimator.CurrentAnimationIs("MoveMent"))
            {
                // 현재 탄 수를 최대로 설정하고, 바뀐 탄 수 정보를 Text UI에 업데이트
                weaponSetting.currentAmmo = weaponSetting.maxAmmo;
                onAmmoEvent.Invoke(weaponSetting.currentAmmo, weaponSetting.maxAmmo);

                yield break;
            }

            yield return null;
        }
    }
```
